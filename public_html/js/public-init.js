!function(e){"use strict";let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(e){}let n=null;function s(){return"rtl"===(null===n&&(n=getComputedStyle(document.body).direction),n)}e((function(){e(".input-number").customNumber()})),e((function(){e(".product-tabs").each((function(t,n){e(".product-tabs__list",n).on("click",".product-tabs__item",(function(t){t.preventDefault();const s=e(this),i=e(".product-tabs__pane"+e(this).attr("href"),n);i.length&&(e(".product-tabs__item").removeClass("product-tabs__item--active"),s.addClass("product-tabs__item--active"),e(".product-tabs__pane").removeClass("product-tabs__pane--active"),i.addClass("product-tabs__pane--active"))}));const s=e(".product-tabs__item--active",n),i=e(".product-tabs__item:first",n);s.length?s.trigger("click"):i.trigger("click")}))})),e((function(){e(".block-slideshow .owl-carousel").owlCarousel({items:1,nav:!1,dots:!0,loop:!0,rtl:s()})})),e((function(){e(".block-brands__slider .owl-carousel").owlCarousel({nav:!1,dots:!1,loop:!0,rtl:s(),responsive:{1200:{items:6},992:{items:5},768:{items:4},576:{items:3},0:{items:2}}})})),e((function(){e(".block-posts").each((function(){const t=e(this).data("layout"),n={margin:30,nav:!1,dots:!1,loop:!0,rtl:s()},i=e(".block-posts__slider .owl-carousel");i.owlCarousel(e.extend({},n,{"grid-nl":{responsive:{992:{items:3},768:{items:2},0:{items:1}}},"list-sm":{responsive:{992:{items:2},0:{items:1}}}}[t])),e(this).find(".block-header__arrow--left").on("click",(function(){i.trigger("prev.owl.carousel",[500])})),e(this).find(".block-header__arrow--right").on("click",(function(){i.trigger("next.owl.carousel",[500])}))}))})),e((function(){e(".teammates .owl-carousel").owlCarousel({nav:!1,dots:!0,rtl:s(),responsive:{768:{items:3,margin:32},380:{items:2,margin:24},0:{items:1}}})}));const i={cancelPreviousModal:function(){},clickHandler:function(){const t=e("#quickview-modal"),n=e(this),s=n.is(".product-card__quickview--preload");if(i.cancelPreviousModal(),s)return;n.addClass("product-card__quickview--preload");let o=null;const r=setTimeout((function(){o=e.ajax({url:"quickview.html",success:function(e){i.cancelPreviousModal=function(){},n.removeClass("product-card__quickview--preload"),t.find(".modal-content").html(e),t.find(".quickview__close").on("click",(function(){t.modal("hide")})),t.modal("show")}})}),1e3);i.cancelPreviousModal=function(){n.removeClass("product-card__quickview--preload"),o&&o.abort(),clearTimeout(r)}}};e((function(){const t=e("#quickview-modal");t.on("shown.bs.modal",(function(){t.find(".product").each((function(){const t=e(this).find(".product-gallery");t.length>0&&o(t[0],e(this).data("layout"))})),e(".input-number",t).customNumber()})),e(".product-card__quickview").on("click",(function(){i.clickHandler.apply(this,arguments)}))})),e((function(){e(".block-products-carousel").each((function(){const t=e(this).data("layout"),n={items:4,margin:14,nav:!1,dots:!1,loop:!0,stagePadding:1,rtl:s()},o=e(".owl-carousel",this);let r=function(){};o.owlCarousel(e.extend({},n,{"grid-4":{responsive:{1200:{items:4,margin:14},992:{items:4,margin:10},768:{items:3,margin:10},576:{items:2,margin:10},475:{items:2,margin:10},0:{items:1}}},"grid-4-sm":{responsive:{1200:{items:4,margin:14},992:{items:3,margin:10},768:{items:3,margin:10},576:{items:2,margin:10},475:{items:2,margin:10},0:{items:1}}},"grid-5":{responsive:{1200:{items:5,margin:12},992:{items:4,margin:10},768:{items:3,margin:10},576:{items:2,margin:10},475:{items:2,margin:10},0:{items:1}}},horizontal:{items:3,responsive:{1200:{items:3,margin:14},992:{items:3,margin:10},768:{items:2,margin:10},576:{items:1},475:{items:1},0:{items:1}}}}[t])),e(this).find(".block-header__group").on("click",(function(t){const n=e(this).closest(".block-products-carousel");if(t.preventDefault(),e(this).is(".block-header__group--active"))return;let s;r(),n.addClass("block-products-carousel--loading"),e(this).closest(".block-header__groups-list").find(".block-header__group--active").removeClass("block-header__group--active"),e(this).addClass("block-header__group--active"),s=setTimeout((function(){let t=n.find('.owl-carousel .owl-item:not(".cloned") .block-products-carousel__column');const s=t.get(),o=[];for(;s.length>0;){const e=Math.floor(Math.random()*s.length),t=s.splice(e,1)[0];o.push(t)}t=e(o),n.find(".owl-carousel").trigger("replace.owl.carousel",[t]).trigger("refresh.owl.carousel").trigger("to.owl.carousel",[0,0]),e(".product-card__quickview",n).on("click",(function(){i.clickHandler.apply(this,arguments)})),n.removeClass("block-products-carousel--loading")}),1e3),r=function(){clearTimeout(s),r=function(){}}})),e(this).find(".block-header__arrow--left").on("click",(function(){o.trigger("prev.owl.carousel",[500])})),e(this).find(".block-header__arrow--right").on("click",(function(){o.trigger("next.owl.carousel",[500])}))}))}));const o=function(t,n){n=void 0!==n?n:"standard";const i={dots:!1,margin:10,rtl:s()},o=e(t),r=o.find(".product-gallery__featured .owl-carousel"),c=o.find(".product-gallery__carousel .owl-carousel");function a(e){return s()?r.find(".owl-item img").length-1-e:e}function l(t){const n=r.find(".owl-item > a").toArray().map((function(e){return{src:e.href,msrc:e.href,w:700,h:700}}));s()&&n.reverse();const i={getThumbBoundsFn:function(e){const t=r.find(".owl-item img").toArray(),n=a(e);if(!t[n])return null;const s=t[n],i=window.pageYOffset||document.documentElement.scrollTop,o=s.getBoundingClientRect();return{x:o.left,y:o.top+i,w:o.width}},index:a(t),bgOpacity:.9,history:!1},o=new PhotoSwipe(e(".pswp")[0],PhotoSwipeUI_Default,n,i);o.listen("beforeChange",(function(){r.data("owl.carousel").to(a(o.getCurrentIndex()),0,!0)})),o.init()}r.owlCarousel({items:1,dots:!1,rtl:s()}).on("changed.owl.carousel",(function(e){let t=e.item.index;c.find(".product-gallery__carousel-item").removeClass("product-gallery__carousel-item--active").eq(t).addClass("product-gallery__carousel-item--active");const n=c.find(".owl-item.active").length-1,s=c.find(".owl-item.active").first().index(),i=c.find(".owl-item.active").last().index();t>i&&c.data("owl.carousel").to(t,100,!0);t<s&&c.data("owl.carousel").to(t-n,100,!0)})),c.on("initialized.owl.carousel",(function(){c.find(".product-gallery__carousel-item").eq(0).addClass("product-gallery__carousel-item--active")})).owlCarousel(e.extend({},i,{standard:{responsive:{1200:{items:5},992:{items:4},768:{items:3},480:{items:5},380:{items:4},0:{items:3}}},sidebar:{responsive:{768:{items:4},480:{items:5},380:{items:4},0:{items:3}}},columnar:{responsive:{768:{items:4},480:{items:5},380:{items:4},0:{items:3}}},quickview:{responsive:{1200:{items:5},768:{items:4},480:{items:5},380:{items:4},0:{items:3}}}}[n])),c.on("click",".owl-item",(function(t){t.preventDefault(),r.data("owl.carousel").to(e(this).index(),300,!0)})),o.find(".product-gallery__zoom").on("click",(function(){l(r.find(".owl-item.active").index())})),r.on("click",".owl-item > a",(function(t){t.preventDefault(),l(e(this).closest(".owl-item").index())}))};e((function(){e(".product").each((function(){const t=e(this).find(".product-gallery");t.length>0&&o(t[0],e(this).data("layout"))}))})),e((function(){e('[name="checkout_payment_method"]').on("change",(function(){const t=e(this).closest(".payment-methods__item");e(this).closest(".payment-methods__list").find(".payment-methods__item").each((function(n,s){const i=e(s),o=i.find(".payment-methods__item-container");if(s!==t[0]){const e=o.height();o.css("height",e+"px"),i.removeClass("payment-methods__item--active"),o.height(),o.css("height","")}else{const e=o.height();i.addClass("payment-methods__item--active");const t=o.height();o.css("height",e+"px"),o.height(),o.css("height",t+"px")}}))})),e(".payment-methods__item-container").on("transitionend",(function(t){"height"===t.originalEvent.propertyName&&e(this).css("height","")}))})),e((function(){e("[data-collapse]").each((function(t,n){const s=n;e("[data-collapse-trigger]",s).on("click",(function(){const t=e(this).closest("[data-collapse-opened-class]").data("collapse-opened-class"),n=e(this).closest("[data-collapse-item]"),i=n.children("[data-collapse-content]"),o=n.parents();if(o.slice(0,o.index(s)+1).filter("[data-collapse-item]").css("height",""),n.is("."+t)){const e=i.height();i.css("height",e+"px"),n.removeClass(t),i.height(),i.css("height","")}else{const e=i.height();n.addClass(t);const s=i.height();i.css("height",e+"px"),i.height(),i.css("height",s+"px")}})),e("[data-collapse-content]",s).on("transitionend",(function(t){"height"===t.originalEvent.propertyName&&e(this).css("height","")}))}))})),e((function(){e(".filter-price").each((function(t,n){const i=e(n).data("min"),o=e(n).data("max"),r=e(n).data("from"),c=e(n).data("to"),a=n.querySelector(".filter-price__slider");noUiSlider.create(a,{start:[r,c],connect:!0,direction:s()?"rtl":"ltr",range:{min:i,max:o}});const l=[e(n).find(".filter-price__min-value")[0],e(n).find(".filter-price__max-value")[0]];a.noUiSlider.on("update",(function(e,t){l[t].innerHTML=e[t]}))}))})),e((function(){const t=e("body"),n=e(".mobilemenu");if(n.length){const s=function(){const e=t.width();t.css("overflow","hidden"),t.css("paddingRight",t.width()-e+"px"),n.addClass("mobilemenu--open")},i=function(){t.css("overflow",""),t.css("paddingRight",""),n.removeClass("mobilemenu--open")};e(".mobile-header__menu-button").on("click",(function(){s()})),e(".mobilemenu__backdrop, .mobilemenu__close").on("click",(function(){i()}))}})),e((function(){e('[data-toggle="tooltip"]').tooltip({trigger:"hover"})})),e((function(){e(".layout-switcher__button").on("click",(function(){const t=e(this).closest(".layout-switcher"),n=e(this).closest(".products-view").find(".products-list");t.find(".layout-switcher__button").removeClass("layout-switcher__button--active"),e(this).addClass("layout-switcher__button--active"),n.attr("data-layout",e(this).attr("data-layout")),n.attr("data-with-features",e(this).attr("data-with-features"))}))})),e((function(){const t=e("body"),n=e(".block-sidebar"),s=matchMedia("(max-width: 991px)");if(n.length){const i=function(){if(n.is(".block-sidebar--offcanvas--mobile")&&!s.matches)return;const e=t.width();t.css("overflow","hidden"),t.css("paddingRight",t.width()-e+"px"),n.addClass("block-sidebar--open")},o=function(){t.css("overflow",""),t.css("paddingRight",""),n.removeClass("block-sidebar--open")},r=function(){n.is(".block-sidebar--open.block-sidebar--offcanvas--mobile")&&!s.matches&&o()};e(".filters-button").on("click",(function(){i()})),e(".block-sidebar__backdrop, .block-sidebar__close").on("click",(function(){o()})),s.addEventListener?s.addEventListener("change",r):s.addListener(r)}})),e((function(){e(".block-finder__select").on("change",(function(){const t=e(this).closest(".block-finder__form-item");"none"!==e(this).val()?(t.find("~ .block-finder__form-item:eq(0) .block-finder__select").prop("disabled",!1).val("none"),t.find("~ .block-finder__form-item:gt(0) .block-finder__select").prop("disabled",!0).val("none")):t.find("~ .block-finder__form-item .block-finder__select").prop("disabled",!0).val("none"),t.find("~ .block-finder__form-item .block-finder__select").trigger("change.select2")}))})),e((function(){e(".form-control-select2, .block-finder__select").select2({width:""})})),e((function(){let n=!1;e(".totop__button").on("click",(function(){e("html, body").animate({scrollTop:0},"300")}));window.addEventListener("scroll",(function(){window.pageYOffset>=300?n||(n=!0,e(".totop").addClass("totop--show")):n&&(n=!1,e(".totop").removeClass("totop--show"))}),!!t&&{passive:!0})}))}(jQuery),function(e){"use strict";let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(e){}let n=null;function s(){return"rtl"===(null===n&&(n=getComputedStyle(document.body).direction),n)}e((function(){function n(t,n){t=e(t);let s=null;const i=function(e){const t=e.originalEvent;s=1===t.touches.length?{target:t.currentTarget,touch:t.changedTouches[0],timestamp:(new Date).getTime()}:null},o=function(e){const t=e.originalEvent;if(!s||1!==t.changedTouches.length||t.changedTouches[0].identity!==s.touch.identity)return;const i=(new Date).getTime(),o=t.changedTouches[0],r=Math.abs(Math.sqrt(Math.pow(s.touch.screenX-o.screenX,2)+Math.pow(s.touch.screenY-o.screenY,2)));s.target===t.currentTarget&&i-s.timestamp<500&&r<10&&n(e)};return t.on("touchstart",i),t.on("touchend",o),function(){t.off("touchstart",i),t.off("touchend",o)}}function i(){const e=function(t){t.preventDefault(),document.removeEventListener("click",e)};document.addEventListener("click",e),setTimeout((function(){document.removeEventListener("click",e)}),100)}e(".topbar-dropdown__btn").on("click",(function(){e(this).closest(".topbar-dropdown").toggleClass("topbar-dropdown--opened")})),document.addEventListener("click",(function(t){e(".topbar-dropdown").not(e(t.target).closest(".topbar-dropdown")).removeClass("topbar-dropdown--opened")}),!0),n(document,(function(t){e(".topbar-dropdown").not(e(t.target).closest(".topbar-dropdown")).removeClass("topbar-dropdown--opened")})),e(".search").each((function(t,s){let i;const o=e(s),r=o.find(".search__input"),c=o.find(".search__suggestions"),a=function(t){e(document.activeElement).closest(".search").is(o)||o.not(e(t.target).closest(".search")).removeClass("search--suggestions-open")},l=function(e){e&&c.html(e),o.toggleClass("search--has-suggestions",!!e)};o.on("focusout",(function(){setTimeout((function(){document.activeElement!==document.body&&o.not(e(document.activeElement).closest(".search")).removeClass("search--suggestions-open")}),10)})),r.on("input",(function(){i&&i.abort(),r.val()?i=e.ajax({url:"suggestions.html",success:function(e){i=null,l(e)}}):l("")})),r.on("focus",(function(){o.addClass("search--suggestions-open")})),document.addEventListener("click",a,!0),n(document,a),r.is(document.activeElement)&&r.trigger("focus").trigger("input")}));const o=e(".mobile-header__search");function r(t){this.element=e(t),this.items=this.element.find(".nav-links__item"),this.currentItem=null,this.element.data("navLinksInstance",this),this.onMouseenter=this.onMouseenter.bind(this),this.onMouseleave=this.onMouseleave.bind(this),this.onGlobalTouchClick=this.onGlobalTouchClick.bind(this),this.onTouchClick=this.onTouchClick.bind(this),this.items.on("mouseenter",this.onMouseenter),this.items.on("mouseleave",this.onMouseleave),n(document,this.onGlobalTouchClick),n(this.items,this.onTouchClick)}function c(t){this.element=e(t),this.container=this.element.find("> .menu__submenus-container"),this.items=this.element.find("> .menu__list > .menu__item"),this.currentItem=null,this.element.data("menuInstance",this),this.onMouseenter=this.onMouseenter.bind(this),this.onMouseleave=this.onMouseleave.bind(this),this.onTouchClick=this.onTouchClick.bind(this),this.items.on("mouseenter",this.onMouseenter),this.element.on("mouseleave",this.onMouseleave),n(this.items,this.onTouchClick)}function a(t){this.element=e(t),this.dropdown=this.element.find(".indicator__dropdown"),this.button=this.element.find(".indicator__button"),this.trigger=null,this.element.data("indicatorInstance",this),this.element.hasClass("indicator--trigger--hover")?this.trigger="hover":this.element.hasClass("indicator--trigger--click")&&(this.trigger="click"),this.onMouseenter=this.onMouseenter.bind(this),this.onMouseleave=this.onMouseleave.bind(this),this.onTransitionend=this.onTransitionend.bind(this),this.onClick=this.onClick.bind(this),this.onGlobalClick=this.onGlobalClick.bind(this),this.element.on("mouseenter",this.onMouseenter),this.element.on("mouseleave",this.onMouseleave),this.dropdown.on("transitionend",this.onTransitionend),this.button.on("click",this.onClick),e(document).on("click",this.onGlobalClick),n(document,this.onGlobalClick),this.element.find(".search__input").on("keydown",(function(t){if(27===t.which){const t=e(this).closest(".indicator").data("indicatorInstance");t&&t.close()}}))}o.length&&(e(".indicator--mobile-search .indicator__button").on("click",(function(){o.is(".mobile-header__search--open")?o.removeClass("mobile-header__search--open"):(o.addClass("mobile-header__search--open"),o.find("input")[0].focus())})),o.find(".search__button--type--close").on("click",(function(){o.removeClass("mobile-header__search--open")})),document.addEventListener("click",(function(t){e(t.target).closest(".indicator--mobile-search, .mobile-header__search").length||o.removeClass("mobile-header__search--open")}),!0)),r.prototype.onGlobalTouchClick=function(t){this.element.not(e(t.target).closest(".nav-links")).length&&this.unsetCurrentItem()},r.prototype.onTouchClick=function(t){if(t.cancelable){const n=e(t.currentTarget);if(this.currentItem&&this.currentItem.is(n))return;this.hasSubmenu(n)&&(t.preventDefault(),this.currentItem&&this.currentItem.trigger("mouseleave"),n.trigger("mouseenter"))}},r.prototype.onMouseenter=function(t){this.setCurrentItem(e(t.currentTarget))},r.prototype.onMouseleave=function(){this.unsetCurrentItem()},r.prototype.setCurrentItem=function(e){this.currentItem=e,this.currentItem.addClass("nav-links__item--hover"),this.openSubmenu(this.currentItem)},r.prototype.unsetCurrentItem=function(){this.currentItem&&(this.closeSubmenu(this.currentItem),this.currentItem.removeClass("nav-links__item--hover"),this.currentItem=null)},r.prototype.hasSubmenu=function(e){return!!e.children(".nav-links__submenu").length},r.prototype.openSubmenu=function(t){const n=t.children(".nav-links__submenu");if(!n.length)return;n.addClass("nav-links__submenu--display");const i=n.offset().top-e(window).scrollTop(),o=window.innerHeight;if(n.css("maxHeight",o-i-20+"px"),n.addClass("nav-links__submenu--open"),n.hasClass("nav-links__submenu--type--megamenu")){const e=n.offsetParent().width(),i=n.width();if(s()){const s=e-(t.position().left+t.width()),o=Math.round(Math.min(s,e-i));n.css("right",o+"px")}else{const s=t.position().left,o=Math.round(Math.min(s,e-i));n.css("left",o+"px")}}},r.prototype.closeSubmenu=function(e){const t=e.children(".nav-links__submenu");if(t.length&&(t.removeClass("nav-links__submenu--display"),t.removeClass("nav-links__submenu--open"),t.css("maxHeight",""),t&&t.is(".nav-links__submenu--type--menu"))){const e=t.find("> .menu").data("menuInstance");e&&e.unsetCurrentItem()}},e(".nav-links").each((function(){new r(this)})),c.prototype.onMouseenter=function(t){const n=e(t.currentTarget);this.currentItem&&n.is(this.currentItem)||(this.unsetCurrentItem(),this.setCurrentItem(n))},c.prototype.onMouseleave=function(){this.unsetCurrentItem()},c.prototype.onTouchClick=function(t){const n=e(t.currentTarget);this.currentItem&&this.currentItem.is(n)||this.hasSubmenu(n)&&(i(),this.unsetCurrentItem(),this.setCurrentItem(n))},c.prototype.setCurrentItem=function(e){this.currentItem=e,this.currentItem.addClass("menu__item--hover"),this.openSubmenu(this.currentItem)},c.prototype.unsetCurrentItem=function(){this.currentItem&&(this.closeSubmenu(this.currentItem),this.currentItem.removeClass("menu__item--hover"),this.currentItem=null)},c.prototype.getSubmenu=function(e){let t=e.find("> .menu__submenu");return t.length&&(this.container.append(t),e.data("submenu",t)),e.data("submenu")},c.prototype.hasSubmenu=function(e){return!!this.getSubmenu(e)},c.prototype.openSubmenu=function(t){const n=this.getSubmenu(t);if(!n)return;n.addClass("menu__submenu--display");const i=this.element.offset().top-e(window).scrollTop(),o=t.find("> .menu__item-submenu-offset").offset().top-e(window).scrollTop(),r=window.innerHeight,c=r-40;n.css("maxHeight",c+"px");const a=n.height(),l=Math.min(Math.max(o-i,0),r-20-a-i);if(n.css("top",l+"px"),n.addClass("menu__submenu--open"),s()){this.element.offset().left-n.width()<0&&n.addClass("menu__submenu--reverse")}else{this.element.offset().left+this.element.width()+n.width()>e("body").innerWidth()&&n.addClass("menu__submenu--reverse")}},c.prototype.closeSubmenu=function(e){const t=this.getSubmenu(e);if(t){t.removeClass("menu__submenu--display"),t.removeClass("menu__submenu--open"),t.removeClass("menu__submenu--reverse");const e=t.find("> .menu").data("menuInstance");e&&e.unsetCurrentItem()}},e(".menu").each((function(){new c(e(this))})),a.prototype.toggle=function(){this.isOpen()?this.close():this.open()},a.prototype.onMouseenter=function(){this.element.addClass("indicator--hover"),"hover"===this.trigger&&this.open()},a.prototype.onMouseleave=function(){this.element.removeClass("indicator--hover"),"hover"===this.trigger&&this.close()},a.prototype.onTransitionend=function(e){this.dropdown.is(e.target)&&"visibility"===e.originalEvent.propertyName&&!this.isOpen()&&this.element.removeClass("indicator--display")},a.prototype.onClick=function(e){"click"===this.trigger&&(e.cancelable&&e.preventDefault(),this.toggle())},a.prototype.onGlobalClick=function(t){this.element.not(e(t.target).closest(".indicator")).length&&this.close()},a.prototype.isOpen=function(){return this.element.is(".indicator--open")},a.prototype.open=function(){this.element.addClass("indicator--display"),this.element.width(),this.element.addClass("indicator--open"),this.element.find(".search__input").focus();const t=this.dropdown.offset().top-e(window).scrollTop(),n=window.innerHeight;this.dropdown.css("maxHeight",n-t-20+"px")},a.prototype.close=function(){this.element.removeClass("indicator--open")},a.prototype.closeImmediately=function(){this.element.removeClass("indicator--open"),this.element.removeClass("indicator--display")},e(".indicator").each((function(){new a(this)})),e((function(){const s=function(t){t.data("departmentsInstance",this),this.element=t,this.container=this.element.find(".departments__submenus-container"),this.linksWrapper=this.element.find(".departments__links-wrapper"),this.body=this.element.find(".departments__body"),this.button=this.element.find(".departments__button"),this.items=this.element.find(".departments__item"),this.mode=this.element.is(".departments--fixed")?"fixed":"normal",this.fixedBy=e(this.element.data("departments-fixed-by")),this.fixedHeight=0,this.currentItem=null,"fixed"===this.mode&&this.fixedBy.length&&(this.fixedHeight=this.fixedBy.offset().top-this.body.offset().top+this.fixedBy.outerHeight(),this.body.css("height",this.fixedHeight+"px")),this.linksWrapper.on("transitionend",(function(t){"height"===t.originalEvent.propertyName&&(e(this).css("height",""),e(this).closest(".departments").removeClass("departments--transition"))})),this.onButtonClick=this.onButtonClick.bind(this),this.onGlobalClick=this.onGlobalClick.bind(this),this.onMouseenter=this.onMouseenter.bind(this),this.onMouseleave=this.onMouseleave.bind(this),this.onTouchClick=this.onTouchClick.bind(this),this.button.on("click",this.onButtonClick),document.addEventListener("click",this.onGlobalClick,!0),n(document,this.onGlobalClick),this.items.on("mouseenter",this.onMouseenter),this.linksWrapper.on("mouseleave",this.onMouseleave),n(this.items,this.onTouchClick)};s.prototype.onButtonClick=function(e){e.preventDefault(),this.element.is(".departments--open")?this.close():this.open()},s.prototype.onGlobalClick=function(t){this.element.not(e(t.target).closest(".departments")).length&&this.element.is(".departments--open")&&this.close()},s.prototype.setMode=function(t){this.mode=t,"normal"===this.mode&&(this.element.removeClass("departments--fixed"),this.element.removeClass("departments--open"),this.body.css("height","auto")),"fixed"===this.mode&&(this.element.addClass("departments--fixed"),this.element.addClass("departments--open"),this.body.css("height",this.fixedHeight+"px"),e(".departments__links-wrapper",this.element).css("maxHeight",""))},s.prototype.close=function(){if(this.element.is(".departments--fixed"))return;const e=this.element.find(".departments__links-wrapper"),t=e.height();e.css("height",t+"px"),this.element.addClass("departments--transition").removeClass("departments--open"),e.height(),e.css("height",""),e.css("maxHeight",""),this.unsetCurrentItem()},s.prototype.closeImmediately=function(){if(this.element.is(".departments--fixed"))return;const e=this.element.find(".departments__links-wrapper");this.element.removeClass("departments--open"),e.css("height",""),e.css("maxHeight",""),this.unsetCurrentItem()},s.prototype.open=function(){const e=this.element.find(".departments__links-wrapper"),t=e.height();this.element.addClass("departments--transition").addClass("departments--open");const n=document.documentElement.clientHeight,s=e[0].getBoundingClientRect(),i=Math.min(e.height(),n-20-s.top);e.css("height",t+"px"),e.height(),e.css("maxHeight",i+"px"),e.css("height",i+"px")},s.prototype.onMouseenter=function(t){const n=e(t.currentTarget);this.currentItem&&n.is(this.currentItem)||(this.unsetCurrentItem(),this.setCurrentItem(n))},s.prototype.onMouseleave=function(){this.unsetCurrentItem()},s.prototype.onTouchClick=function(t){const n=e(t.currentTarget);this.currentItem&&this.currentItem.is(n)||this.hasSubmenu(n)&&(i(),this.unsetCurrentItem(),this.setCurrentItem(n))},s.prototype.setCurrentItem=function(e){this.unsetCurrentItem(),this.currentItem=e,this.currentItem.addClass("departments__item--hover"),this.openSubmenu(this.currentItem)},s.prototype.unsetCurrentItem=function(){this.currentItem&&(this.closeSubmenu(this.currentItem),this.currentItem.removeClass("departments__item--hover"),this.currentItem=null)},s.prototype.getSubmenu=function(e){let t=e.find("> .departments__submenu");return t.length&&(this.container.append(t),e.data("submenu",t)),e.data("submenu")},s.prototype.hasSubmenu=function(e){return!!this.getSubmenu(e)},s.prototype.openSubmenu=function(t){const n=this.getSubmenu(t);if(n){n.addClass("departments__submenu--open");const t=document.documentElement.clientHeight,s=20;if(n.hasClass("departments__submenu--type--megamenu")){const i=n.offset().top-e(window).scrollTop();n.css("maxHeight",t-i-s+"px")}if(n.hasClass("departments__submenu--type--menu")){n.css("maxHeight",t-s-Math.min(s,this.body.offset().top-e(window).scrollTop())+"px");const i=n.height(),o=this.currentItem.offset().top-e(window).scrollTop(),r=this.container.offset().top-e(window).scrollTop();n.css("top",Math.min(o,t-s-i)-r+"px")}}},s.prototype.closeSubmenu=function(e){const t=e.data("submenu");t&&(t.removeClass("departments__submenu--open"),t.is(".departments__submenu--type--menu")&&t.find("> .menu").data("menuInstance").unsetCurrentItem())};const o=e(".departments"),r=o.length?new s(o):null,c=e(".nav-panel--sticky");if(c.length){const n=c.data("sticky-mode")?c.data("sticky-mode"):"alwaysOnTop",s=matchMedia("(min-width: 992px)"),i=r?r.mode:null;let o=!1,a=!1,l=0,u=0,d=function(){return 0},h=function(){return 0};const m=function(){r&&r.closeImmediately(),e(".nav-links").data("navLinksInstance").unsetCurrentItem(),e(".indicator").each((function(){e(this).data("indicatorInstance").closeImmediately()}))},p=function(){const e=window.pageYOffset-u;if(e<0!=l<0&&(l=0),u=window.pageYOffset,l+=e,window.pageYOffset>h()){if(o||(c.addClass("nav-panel--stuck"),c.css("transitionDuration","0s"),"alwaysOnTop"===n&&(c.addClass("nav-panel--show"),a=!0),c.height(),c.css("transitionDuration",""),o=!0,r&&"fixed"===i&&r.setMode("normal"),m()),"pullToShow"===n){const e=25;l<-10&&!c.hasClass("nav-panel--show")&&(c.addClass("nav-panel--show"),a=!0),l>e&&c.hasClass("nav-panel--show")&&(c.removeClass("nav-panel--show"),a=!1,m())}}else window.pageYOffset<=d()&&o&&(c.removeClass("nav-panel--stuck"),c.removeClass("nav-panel--show"),o=!1,a=!1,r&&"fixed"===i&&r.setMode("fixed"),m())},f=function(){if(s.matches){l=0,u=window.pageYOffset;const e=c.offset().top,s=e+c.outerHeight(),o=r?r.body.offset().top+r.body.outerHeight():0;r&&"fixed"===i&&o>s?d=h=function(){return o}:"alwaysOnTop"===n?d=h=function(){return e}:(d=function(){return a?e:s},h=function(){return s}),window.addEventListener("scroll",p,!!t&&{passive:!0}),p()}else o&&(c.removeClass("nav-panel--stuck"),c.removeClass("nav-panel--show"),o=!1,a=!1,r&&"fixed"===i&&r.setMode("fixed"),m()),window.removeEventListener("scroll",p,!!t&&{passive:!0})};s.addEventListener?s.addEventListener("change",f):s.addListener(f),f()}const a=e(".mobile-header--sticky"),l=a.find(".mobile-header__panel");if(a.length){const e=a.data("sticky-mode")?a.data("sticky-mode"):"alwaysOnTop",n=matchMedia("(min-width: 992px)");let s=!1,i=!1,o=0,r=0,c=0,u=0;const d=function(){const t=window.pageYOffset-r;if(t<0!=o<0&&(o=0),r=window.pageYOffset,o+=t,window.pageYOffset>u){if(s||(a.addClass("mobile-header--stuck"),l.css("transitionDuration","0s"),"alwaysOnTop"===e&&(a.addClass("mobile-header--show"),i=!0),a.height(),l.css("transitionDuration",""),s=!0),"pullToShow"===e)if(window.pageYOffset>c){const e=25;o<-10&&!i&&(a.addClass("mobile-header--show"),i=!0),o>e&&i&&(a.removeClass("mobile-header--show"),i=!1)}else i&&(a.removeClass("mobile-header--show"),i=!1)}else window.pageYOffset<=c&&s&&(a.removeClass("mobile-header--stuck"),a.removeClass("mobile-header--show"),s=!1,i=!1)},h=function(){n.matches?(s&&(a.removeClass("mobile-header--stuck"),a.removeClass("mobile-header--show"),s=!1,i=!1),window.removeEventListener("scroll",d,!!t&&{passive:!0})):(o=0,r=window.pageYOffset,c=a.offset().top,u=c+("alwaysOnTop"===e?0:a.outerHeight()),window.addEventListener("scroll",d,!!t&&{passive:!0}),d())};n.addEventListener?n.addEventListener("change",h):n.addListener(h),h()}})),function(){const t=e("body"),n=e(".dropcart--style--offcanvas");function s(){return"hidden"===window.getComputedStyle(n[0]).visibility}function i(){t.css("overflow",""),t.css("paddingRight","")}function o(){!function(){const e=t.width();t.css("overflow","hidden"),t.css("paddingRight",t.width()-e+"px")}(),n.addClass("dropcart--open")}0!==n.length&&(e('[data-open="offcanvas-cart"]').on("click",(function(e){e.cancelable&&(e.preventDefault(),o())})),n.find(".dropcart__backdrop, .dropcart__close").on("click",(function(){s()&&i(),n.removeClass("dropcart--open")})),n.on("transitionend",(function(e){n.is(e.target)&&"visibility"===e.originalEvent.propertyName&&s()&&i()})))}()}))}(jQuery);

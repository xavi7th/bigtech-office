(self.webpackChunk=self.webpackChunk||[]).push([[3471],{2671:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>h});var r=n(635),o=n(9680),i=n(8162);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(t){var e,n,o,c,u,l,a,f,s,d,y,b,h;return{c:function(){e=(0,r.bG)("div"),n=(0,r.bG)("div"),o=(0,r.bG)("div"),c=(0,r.bG)("input"),u=(0,r.Dh)(),l=(0,r.bG)("input"),a=(0,r.Dh)(),(f=(0,r.bG)("button")).textContent="Update Price",(0,r.Lj)(c,"type","text"),(0,r.Lj)(c,"class","form-control"),(0,r.Lj)(c,"id","cost-price"),(0,r.Lj)(c,"placeholder","Cost Price"),(0,r.Lj)(l,"type","text"),(0,r.Lj)(l,"class","form-control"),(0,r.Lj)(l,"id","proposed-selling-price"),(0,r.Lj)(l,"placeholder","Proposed Selling Price"),(0,r.Lj)(f,"type","button"),(0,r.Lj)(f,"class","btn btn-danger btn-hover-danger text-center"),(0,r.Lj)(o,"class","d-flex flex-column"),(0,r.Lj)(n,"class","col-12")},m:function(i,s){(0,r.$T)(i,e,s),(0,r.R3)(e,n),(0,r.R3)(n,o),(0,r.R3)(o,c),(0,r.Bm)(c,t[0].cost_price),(0,r.R3)(o,u),(0,r.R3)(o,l),(0,r.Bm)(l,t[0].proposed_selling_price),(0,r.R3)(o,a),(0,r.R3)(o,f),y=!0,b||(h=[(0,r.oL)(c,"input",t[2]),(0,r.oL)(l,"input",t[3]),(0,r.oL)(f,"click",t[1])],b=!0)},p:function(t,e){var n=p(e,1)[0];1&n&&c.value!==t[0].cost_price&&(0,r.Bm)(c,t[0].cost_price),1&n&&l.value!==t[0].proposed_selling_price&&(0,r.Bm)(l,t[0].proposed_selling_price)},i:function(t){y||((0,r.P$)((function(){d&&d.end(1),s||(s=(0,r.HC)(e,i.Zw,{y:20,duration:2e3})),s.start()})),y=!0)},o:function(t){s&&s.invalidate(),d=(0,r.eZ)(e,i.U1,{}),y=!1},d:function(t){t&&(0,r.og)(e),t&&d&&d.end(),b=!1,(0,r.j7)(h)}}}function b(t,e,n){var r=e.details,i=void 0===r?{}:r;return t.$$set=function(t){"details"in t&&n(0,i=t.details)},[i,function(t){swalPreconfirm.fire({text:"This will update the selling and the cost prices",confirmButtonText:"Yes, carry on!",preConfirm:function(){return o.rC.patch(route("accountant.products.local.edit_price",i.uuid),i,{preserveState:!0,preserveScroll:!0,only:["errors","flash","productDetails"]})}}).then((function(t){t.dismiss&&"cancel"==t.dismiss&&swal.fire("Canceled!","You canceled the action. Nothing was changed","info")}))},function(){i.cost_price=this.value,n(0,i)},function(){i.proposed_selling_price=this.value,n(0,i)}]}const h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(n,t);var e=l(n);function n(t){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o=e.call(this),(0,r.S1)(f(o),t,b,y,r.N8,{details:0}),o}return n}(r.f_)}}]);
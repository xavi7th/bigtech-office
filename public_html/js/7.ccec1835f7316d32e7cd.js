(self.webpackChunk=self.webpackChunk||[]).push([[6965,5546],{751:(t,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>$});var e=o(635),r=o(9680),c=o(8786);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function i(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,e=s(t);if(n){var r=s(this).constructor;o=Reflect.construct(e,arguments,r)}else o=e.apply(this,arguments);return l(this,o)}}function l(t,n){return!n||"object"!==u(n)&&"function"!=typeof n?f(t):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],e=!0,r=!1,c=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(o.push(u.value),!n||o.length!==n);e=!0);}catch(t){r=!0,c=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw c}}return o}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return d(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return d(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,e=new Array(n);o<n;o++)e[o]=t[o];return e}function b(t,n,o){var e=t.slice();return e[11]=n[o],e[12]=n,e[13]=o,e}function y(t,n,o){var e=t.slice();return e[14]=n[o],e}function m(t){var n,o,r,c,u,a=t[14].bank+"",i=t[14].account_number+"";return{c:function(){n=(0,e.bG)("option"),o=(0,e.fL)(a),r=(0,e.fL)(" - "),c=(0,e.fL)(i),n.__value=u=t[14].id,n.value=n.__value},m:function(t,u){(0,e.$T)(t,n,u),(0,e.R3)(n,o),(0,e.R3)(n,r),(0,e.R3)(n,c)},p:function(t,r){1&r&&a!==(a=t[14].bank+"")&&(0,e.rT)(o,a),1&r&&i!==(i=t[14].account_number+"")&&(0,e.rT)(c,i),1&r&&u!==(u=t[14].id)&&(n.__value=u,n.value=n.__value)},d:function(t){t&&(0,e.og)(n)}}}function h(t){for(var n,o,r,c,u,a,i,l,f,s=t[0],p=[],d=0;d<s.length;d+=1)p[d]=m(y(t,s,d));function b(){t[6].call(o,t[13])}function h(){t[7].call(a,t[13])}return{c:function(){n=(0,e.bG)("div"),o=(0,e.bG)("select"),(r=(0,e.bG)("option")).textContent="Bank Name";for(var l=0;l<p.length;l+=1)p[l].c();c=(0,e.Dh)(),u=(0,e.bG)("div"),a=(0,e.bG)("input"),i=(0,e.Dh)(),r.__value=null,r.value=r.__value,r.selected=!0,(0,e.Lj)(o,"class","custom-select "),void 0===t[3][t[13]]&&(0,e.P$)(b),(0,e.Lj)(n,"class","col-12"),(0,e.Lj)(a,"type","number"),(0,e.Lj)(a,"min","0"),(0,e.Lj)(a,"class","form-control"),(0,e.Lj)(a,"placeholder","Amount Paid"),(0,e.Lj)(u,"class","col-12")},m:function(s,d){(0,e.$T)(s,n,d),(0,e.R3)(n,o),(0,e.R3)(o,r);for(var y=0;y<p.length;y+=1)p[y].m(o,null);(0,e.oW)(o,t[3][t[13]]),(0,e.$T)(s,c,d),(0,e.$T)(s,u,d),(0,e.R3)(u,a),(0,e.Bm)(a,t[2][t[13]]),(0,e.R3)(u,i),l||(f=[(0,e.oL)(o,"change",b),(0,e.oL)(a,"input",h)],l=!0)},p:function(n,r){if(t=n,1&r){var c;for(s=t[0],c=0;c<s.length;c+=1){var u=y(t,s,c);p[c]?p[c].p(u,r):(p[c]=m(u),p[c].c(),p[c].m(o,null))}for(;c<p.length;c+=1)p[c].d(1);p.length=s.length}9&r&&(0,e.oW)(o,t[3][t[13]]),4&r&&(0,e.sC)(a.value)!==t[2][t[13]]&&(0,e.Bm)(a,t[2][t[13]])},d:function(t){t&&(0,e.og)(n),(0,e.RM)(p,t),t&&(0,e.og)(c),t&&(0,e.og)(u),l=!1,(0,e.j7)(f)}}}function v(t){for(var n,o,r,c,u,a=Array(t[1]),i=[],l=0;l<a.length;l+=1)i[l]=h(b(t,a,l));return{c:function(){n=(0,e.bG)("div");for(var t=0;t<i.length;t+=1)i[t].c();o=(0,e.Dh)(),(r=(0,e.bG)("button")).innerHTML='<span class="text">Add Another Bank</span>',(0,e.Lj)(n,"class","row vertical-gap sm-gap"),(0,e.Lj)(r,"class","btn btn-dark btn-long")},m:function(a,l){(0,e.$T)(a,n,l);for(var f=0;f<i.length;f+=1)i[f].m(n,null);(0,e.$T)(a,o,l),(0,e.$T)(a,r,l),c||(u=(0,e.oL)(r,"click",t[8]),c=!0)},p:function(t,o){if(15&o){var e;for(a=Array(t[1]),e=0;e<a.length;e+=1){var r=b(t,a,e);i[e]?i[e].p(r,o):(i[e]=h(r),i[e].c(),i[e].m(n,null))}for(;e<i.length;e+=1)i[e].d(1);i.length=a.length}},d:function(t){t&&(0,e.og)(n),(0,e.RM)(i,t),t&&(0,e.og)(o),t&&(0,e.og)(r),c=!1,u()}}}function j(t){var n,o,r,c,u;return{c:function(){n=(0,e.bG)("button"),(o=(0,e.bG)("span")).textContent="Mark As Paid",(0,e.Lj)(o,"class","text"),(0,e.Lj)(n,"slot","footer-buttons"),(0,e.Lj)(n,"class","btn btn-success btn-long"),n.disabled=r=!t[1]},m:function(r,a){(0,e.$T)(r,n,a),(0,e.R3)(n,o),c||(u=(0,e.oL)(n,"click",t[4]),c=!0)},p:function(t,o){2&o&&r!==(r=!t[1])&&(n.disabled=r)},d:function(t){t&&(0,e.og)(n),c=!1,u()}}}function g(t){var n,o;return n=new c.default({props:{modalId:"enterProductPaymentDetails",modalTitle:"Enter Payment Details",$$slots:{"footer-buttons":[j],default:[v]},$$scope:{ctx:t}}}),{c:function(){(0,e.YC)(n.$$.fragment)},m:function(t,r){(0,e.ye)(n,t,r),o=!0},p:function(t,o){var e=p(o,1)[0],r={};131087&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i:function(t){o||((0,e.Ui)(n.$$.fragment,t),o=!0)},o:function(t){(0,e.et)(n.$$.fragment,t),o=!1},d:function(t){(0,e.vp)(n,t)}}}function L(t,n,o){var c=n.companyAccounts,u=void 0===c?[]:c,a=n.productToMarkAsPaid,i=1,l=[],f=[];return t.$$set=function(t){"companyAccounts"in t&&o(0,u=t.companyAccounts),"productToMarkAsPaid"in t&&o(5,a=t.productToMarkAsPaid)},[u,i,l,f,function(){var t=!0,n=[],e="";_.each(f,(function(n,o){0==_.compact(f).length||0==_.compact(l).length?(t=!1,e="Enter at least one bank and the amount paid"):!f[o]&&l[o]||f[o]&&!l[o]?(t=!1,e="You The banks and the amounts are not properly matched"):_.every(l,Number)||(t=!1,e="All amounts must be numbers")})),t?(BlockToast.fire({text:"Marking product as paid for ..."}),_.each(f,(function(t,o,e){n.push({amount:l[o],company_bank_id:f[o]})})),r.rC.post(route("accountant.product_sales_records.confirm_sale",a),{payment_records:n},{preserveState:!0,preserveScroll:!0,only:["flash","errors","officeBranch","products","salesRecords"],onSuccess:function(){n=[],o(3,f=[]),o(3,f[0]=null,f),o(2,l=[]),o(1,i=1),jQuery("#enterProductPaymentDetails").modal("hide")}})):ToastLarge.fire("Oops",e,"error")},a,function(t){f[t]=(0,e.SA)(this),o(3,f),o(0,u)},function(t){l[t]=(0,e.sC)(this.value),o(2,l)},function(){return o(1,++i)}]}const $=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}(o,t);var n=i(o);function o(t){var r;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),r=n.call(this),(0,e.S1)(f(r),t,L,g,e.N8,{companyAccounts:0,productToMarkAsPaid:5}),r}return o}(e.f_)},8786:(t,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>m});var e=o(635);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,n){return(c=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function u(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,e=l(t);if(n){var r=l(this).constructor;o=Reflect.construct(e,arguments,r)}else o=e.apply(this,arguments);return a(this,o)}}function a(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?i(t):n}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var o=[],e=!0,r=!1,c=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(o.push(u.value),!n||o.length!==n);e=!0);}catch(t){r=!0,c=t}finally{try{e||null==a.return||a.return()}finally{if(r)throw c}}return o}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return s(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return s(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var o=0,e=new Array(n);o<n;o++)e[o]=t[o];return e}var p=function(t){return{}},d=function(t){return{}};function b(t){var n,o,r,c,u,a,i,l,s,b,y,m,h,v,j,g,L,_=t[3].default,$=(0,e.nu)(_,t,t[2],null),R=t[3]["footer-buttons"],T=(0,e.nu)(R,t,t[2],d);return{c:function(){n=(0,e.bG)("div"),o=(0,e.bG)("div"),r=(0,e.bG)("div"),c=(0,e.bG)("div"),u=(0,e.bG)("h5"),a=(0,e.fL)(t[1]),l=(0,e.Dh)(),(s=(0,e.bG)("button")).innerHTML='<span data-feather="x" class="rui-icon rui-icon-stroke-1_5"></span>',b=(0,e.Dh)(),y=(0,e.bG)("div"),$&&$.c(),m=(0,e.Dh)(),h=(0,e.bG)("div"),T&&T.c(),v=(0,e.Dh)(),(j=(0,e.bG)("button")).textContent="Close",(0,e.Lj)(u,"class","modal-title h2"),(0,e.Lj)(u,"id",i="".concat(t[0],"PopupLabel")),(0,e.Lj)(s,"type","button"),(0,e.Lj)(s,"class","close"),(0,e.Lj)(s,"data-dismiss","modal"),(0,e.Lj)(s,"aria-label","Close"),(0,e.Lj)(c,"class","modal-header"),(0,e.Lj)(y,"class","modal-body"),(0,e.Lj)(j,"type","button"),(0,e.Lj)(j,"class","btn btn-secondary"),(0,e.Lj)(j,"data-dismiss","modal"),(0,e.Lj)(h,"class","modal-footer"),(0,e.Lj)(r,"class","modal-content"),(0,e.Lj)(o,"class","modal-dialog"),(0,e.Lj)(o,"role","document"),(0,e.Lj)(n,"class","modal fade"),(0,e.Lj)(n,"id",t[0]),(0,e.Lj)(n,"tabindex","-1"),(0,e.Lj)(n,"role","dialog"),(0,e.Lj)(n,"aria-labelledby",g="".concat(t[0],"Label")),(0,e.Lj)(n,"aria-hidden","true")},m:function(t,i){(0,e.$T)(t,n,i),(0,e.R3)(n,o),(0,e.R3)(o,r),(0,e.R3)(r,c),(0,e.R3)(c,u),(0,e.R3)(u,a),(0,e.R3)(c,l),(0,e.R3)(c,s),(0,e.R3)(r,b),(0,e.R3)(r,y),$&&$.m(y,null),(0,e.R3)(r,m),(0,e.R3)(r,h),T&&T.m(h,null),(0,e.R3)(h,v),(0,e.R3)(h,j),L=!0},p:function(t,o){var r=f(o,1)[0];(!L||2&r)&&(0,e.rT)(a,t[1]),(!L||1&r&&i!==(i="".concat(t[0],"PopupLabel")))&&(0,e.Lj)(u,"id",i),$&&$.p&&4&r&&(0,e.Tj)($,_,t,t[2],r,null,null),T&&T.p&&4&r&&(0,e.Tj)(T,R,t,t[2],r,p,d),(!L||1&r)&&(0,e.Lj)(n,"id",t[0]),(!L||1&r&&g!==(g="".concat(t[0],"Label")))&&(0,e.Lj)(n,"aria-labelledby",g)},i:function(t){L||((0,e.Ui)($,t),(0,e.Ui)(T,t),L=!0)},o:function(t){(0,e.et)($,t),(0,e.et)(T,t),L=!1},d:function(t){t&&(0,e.og)(n),$&&$.d(t),T&&T.d(t)}}}function y(t,n,o){var e=n.$$slots,r=void 0===e?{}:e,c=n.$$scope,u=n.modalId,a=n.modalTitle;return t.$$set=function(t){"modalId"in t&&o(0,u=t.modalId),"modalTitle"in t&&o(1,a=t.modalTitle),"$$scope"in t&&o(2,c=t.$$scope)},[u,a,c,r]}const m=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}(o,t);var n=u(o);function o(t){var r;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),r=n.call(this),(0,e.S1)(i(r),t,y,b,e.N8,{modalId:0,modalTitle:1}),r}return o}(e.f_)}}]);